<p style="color: green"><%= notice %></p>

<!-- Post Details -->
<h1><%= @post.title %></h1>
<p><%= @post.body %></p>
<p><strong>Posted by:</strong> <%= @post.user.email %></p>

<!-- Comments Section -->
<h2>Comments</h2>
<%= render @post.comments %>

<% if user_signed_in? %>
  <h3>Add a comment:</h3>
  <%= form_with(model: [@post, Comment.new]) do |form| %>
    <div class="field">
      <%= form.text_area :body, placeholder: "Write your comment here..." %>
    </div>
    <%= form.submit "Add Comment" %>
  <% end %>
<% else %>
  <p><%= link_to "Sign in", new_user_session_path %> to comment.</p>
<% end %>

<!-- Post Controls -->
<div>
  <%= link_to "Edit this post", edit_post_path(@post) %> |
  <%= link_to "Back to posts", posts_path %>
  <%= button_to "Destroy this post", @post, method: :delete %>
</div>

