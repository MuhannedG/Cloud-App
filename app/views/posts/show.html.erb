<p style="color: green;"><%= notice %></p>

<!-- Post Details -->
<article>
  <header>
    <h1><%= @post.title %></h1>
    <p><strong>Posted by:</strong> <%= @post.user.email %></p>
  </header>
  <section>
    <p><%= @post.body %></p>
  </section>
</article>

<!-- Comments Section -->
<section>
  <h2>Comments</h2>
  <% if @post.comments.any? %>
    <ul>
      <%= render @post.comments %>
    </ul>
  <% else %>
    <p>No comments yet. Be the first to comment!</p>
  <% end %>

  <% if user_signed_in? %>
    <h3>Add a comment:</h3>
    <%= form_with(model: [@post, Comment.new], local: true) do |form| %>
      <div class="field">
        <%= form.text_area :body, placeholder: "Write your comment here...", rows: 4, class: "comment-textarea" %>
      </div>
      <div>
        <%= form.submit "Add Comment", class: "btn btn-primary" %>
      </div>
    <% end %>
  <% else %>
    <p><%= link_to "Sign in", new_user_session_path %> to comment.</p>
  <% end %>
</section>

<!-- Post Controls -->
<footer>
  <div class="post-controls">
    <%= link_to "Edit this post", edit_post_path(@post), class: "btn btn-secondary" %>
    <%= link_to "Back to posts", posts_path, class: "btn btn-secondary" %>
    <%= button_to "Destroy this post", @post, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger" %>
  </div>
</footer>
